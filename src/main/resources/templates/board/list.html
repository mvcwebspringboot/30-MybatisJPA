<!DOCTYPE html>
<html lang="ko" 
  xmlns:th="http://www.thymeleaf.org" 
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" 
  layout:decorate="~{layout/basic.html}">


<div layout:fragment="content">
  <h2>Board List</h2>
  <p><a th:href="@{/board/regist}">새글등록</a></p>
  
  <table style="width:800px;">
    <colgroup>
      <col style="width:50px;" />
      <col style="width:250px;" />
      <col style="width:120px;" />
      <col />
    </colgroup>
  	<thead>
  		<tr>
  			<th scope="col">Bno</th>
  			<th scope="col">Title</th>
  			<th scope="col">Writer</th>
  			<th scope="col">RegDate</th>
  		</tr>
  	</thead>
  	<tbody th:with="link=${res.cri.getLink()}">
  		<tr th:each="dto:${res.list}">
  		  <th scope="row">[[${dto.bno}]]</th>
  		  <td><a th:href="|@{/board/read(bno=${dto.bno})}${link}|">[[${dto.title}]]</a></td>
  		  <td>[[${dto.writer}]]</td>
  		  <td>[[${#temporals.format(dto.regDate,'yyyy-MM-dd')}]]</td>
  		</tr>
  	</tbody>
  </table>
  
  <hr />
  <ul th:utext="${res.paging}"></ul>

</div>

<script layout:fragment="script" th:inline="javascript">
 console.log("script ..........");
 const bno = [[${result}]];
 if(bno > 0){
	 alert(`${bno}번 글 등록완료`);	 
 }
 
 
</script>